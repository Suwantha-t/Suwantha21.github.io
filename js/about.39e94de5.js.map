{"version":3,"sources":["webpack:///./src/views/Client.vue?205c","webpack:///src/views/Client.vue","webpack:///./src/views/Client.vue?052d","webpack:///./src/views/Client.vue","webpack:///./src/views/Manual.vue?bf18","webpack:///./src/views/Manual.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","peerConnectTo","peerId","connectPeer","ref","staticStyle","staticRenderFns","oscillator","start","Object","assign","track","canvas","getContext","fillRect","width","height","data","created","methods","initPeer","peer","conn","send","console","log","peerCall","component","_m","script"],"mappings":"4NAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,YAAYF,EAAG,MAAMJ,EAAIM,GAAG,eAAeF,EAAG,QAAQ,CAACG,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAiB,cAAEW,WAAW,kBAAkBC,MAAM,CAAC,KAAO,OAAO,SAAW,IAAIC,SAAS,CAAC,MAASb,EAAiB,eAAGc,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBjB,EAAIkB,cAAcH,EAAOC,OAAON,WAAUN,EAAG,MAAMJ,EAAIM,GAAG,WAAWF,EAAG,QAAQ,CAACG,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAU,OAAEW,WAAW,WAAWC,MAAM,CAAC,KAAO,QAAQC,SAAS,CAAC,MAASb,EAAU,QAAGc,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOC,OAAOC,YAAqBjB,EAAImB,OAAOJ,EAAOC,OAAON,WAAUN,EAAG,MAAMA,EAAG,SAAS,CAACU,GAAG,CAAC,MAAQd,EAAIoB,cAAc,CAACpB,EAAIM,GAAG,aAAaF,EAAG,MAAMA,EAAG,IAAI,CAACJ,EAAIM,GAAG,oBAAoBF,EAAG,QAAQ,CAACiB,IAAI,QAAQC,YAAY,CAAC,aAAa,QAAQ,YAAY,cAC35BC,EAAkB,G,6CCiBtB,aACE,IAAF,mBACA,uBACA,8CACEC,EAAWC,QACX,IAAF,+BACE,OAAOC,OAAOC,OAAOC,EAAO,CAA9B,cAGA,uCACA,qEACEC,EAAOC,WAAW,MAAMC,SAAS,EAAG,EAAGC,EAAOC,GAE9C,IAAF,oBACA,wBAEE,OAAOP,OAAOC,OAAOC,EAAO,CAA9B,cAGA,GACEpB,KAAM,SACN0B,KAAM,WAAR,OACA,UACA,WACA,oBAEEC,QAPF,aAUEC,QAAS,CACPC,SADJ,WAEMpC,KAAKqC,KAAO,IAAI,EAAtB,gBAEIlB,YAJJ,WAKMnB,KAAKoC,WACL,IAAN,wCAEME,EAAKzB,GAAG,QAAQ,WAEdyB,EAAKC,KAAK,qBAGZvC,KAAKqC,KAAKxB,GAAG,cAAc,SAAUyB,GACnCA,EAAKzB,GAAG,QAAQ,SAAUoB,GACxBO,QAAQC,IAAI,oBAAqBR,SAIrCjC,KAAKqC,KAAKxB,GAAG,OAAQb,KAAK0C,WAI5B,SAvBJ,SAuBA,qKAEA,MACA,4BACA,yBAIA,YACA,2BACA,uBACA,cACA,YAZA,gDCtEgV,I,YCO5UC,EAAY,eACd,EACA7C,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E,kDClBf,IAAI7C,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAsBH,EAAIK,MAAMD,GAAO,OAAOJ,EAAI6C,GAAG,IACnGtB,EAAkB,CAAC,WAAa,IAAIvB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,aAAaF,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,2BAA2BF,EAAG,KAAK,CAACJ,EAAIM,GAAG,2BAA2BF,EAAG,KAAK,CAACJ,EAAIM,GAAG,sC,YCA5PwC,EAAS,GAKTF,EAAY,eACdE,EACA/C,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/about.39e94de5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Client\")]),_c('br'),_vm._v(\"Server id: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerConnectTo),expression:\"peerConnectTo\"}],attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.peerConnectTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerConnectTo=$event.target.value}}}),_c('br'),_vm._v(\"My id: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerId),expression:\"peerId\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.peerId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerId=$event.target.value}}}),_c('br'),_c('button',{on:{\"click\":_vm.connectPeer}},[_vm._v(\"connect\")]),_c('hr'),_c('p',[_vm._v(\"Server's Video\")]),_c('video',{ref:\"video\",staticStyle:{\"max-height\":\"300px\",\"max-width\":\"400px\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>Client</h1>\n    <br />Server id:\n    <input type=\"text\" v-model=\"peerConnectTo\"  disabled/>\n    <br />My id:\n    <input type=\"text\" v-model=\"peerId\" />\n    <br>\n    <button @click=\"connectPeer\">connect</button>\n\n    <hr />\n    <p>Server's Video</p>\n    <video ref=\"video\" style=\"max-height: 300px; max-width: 400px;\"></video>\n  </div>\n</template>\n\n<script>\nimport Peer from \"peerjs\";\nexport const createEmptyAudioTrack = () => {\n  const ctx = new AudioContext();\n  const oscillator = ctx.createOscillator();\n  const dst = oscillator.connect(ctx.createMediaStreamDestination());\n  oscillator.start();\n  const track = dst.stream.getAudioTracks()[0];\n  return Object.assign(track, {enabled: false});\n};\n\nexport const createEmptyVideoTrack = ({width, height}) => {\n  const canvas = Object.assign(document.createElement('canvas'), {width, height});\n  canvas.getContext('2d').fillRect(0, 0, width, height);\n\n  const stream = canvas.captureStream();\n  const track = stream.getVideoTracks()[0];\n\n  return Object.assign(track, {enabled: false});\n};\n\nexport default {\n  name: \"Client\",\n  data: () => ({\n    peer: null,\n    peerId: \"2\",\n    peerConnectTo: \"1\",\n  }),\n  created() {\n    //this.initPeer();\n  },\n  methods: {\n    initPeer() {\n      this.peer = new Peer(this.peerId);\n    },\n    connectPeer() {\n      this.initPeer()\n      let conn = this.peer.connect(this.peerConnectTo);\n      // on open will be launch when you successfully connect to PeerServer\n      conn.on(\"open\", function () {\n        // here you have conn.id\n        conn.send(\"hi! i'm client\");\n      });\n\n      this.peer.on(\"connection\", function (conn) {\n        conn.on(\"data\", function (data) {\n          console.log(\"client receive : \", data);\n        });\n      });\n\n      this.peer.on(\"call\", this.peerCall);\n\n    },\n\n     async peerCall(call) {\n       \n      let audioTrack = createEmptyAudioTrack();\n      let videoTrack = createEmptyVideoTrack({width: 640, height: 480});\n      let stream = new MediaStream([audioTrack,videoTrack])\n      // let stream = await navigator.mediaDevices.getDisplayMedia({\n      //   video: false,\n      // });\n      call.answer(stream);\n      call.on(\"stream\", (remoteStream) => {\n        let video = this.$refs[\"video\"];\n        video.srcObject = remoteStream;\n        video.play();      \n        });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Client.vue?vue&type=template&id=6d6e485a&\"\nimport script from \"./Client.vue?vue&type=script&lang=js&\"\nexport * from \"./Client.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"วิธีใช้\")]),_c('ul',[_c('li',[_vm._v(\"กด connect ที่ Client\")]),_c('li',[_vm._v(\"กด connect ที่ Server\")]),_c('li',[_vm._v(\"กด start Stream ที่ Server\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Manual.vue?vue&type=template&id=27656fbb&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}