{"version":3,"sources":["webpack:///./src/views/Room.vue?e4f3","webpack:///src/views/Room.vue","webpack:///./src/views/Room.vue?d686","webpack:///./src/views/Room.vue","webpack:///./src/views/RoomServer.vue?097e","webpack:///src/views/RoomServer.vue","webpack:///./src/views/RoomServer.vue?0a3a","webpack:///./src/views/RoomServer.vue","webpack:///./src/views/Client.vue?714d","webpack:///./src/components/client/stream.vue?5303","webpack:///src/components/client/stream.vue","webpack:///./src/components/client/stream.vue?717c","webpack:///./src/components/client/stream.vue","webpack:///./src/components/client/Audio.vue?7073","webpack:///src/components/client/Audio.vue","webpack:///./src/components/client/Audio.vue?5635","webpack:///./src/components/client/Audio.vue","webpack:///src/views/Client.vue","webpack:///./src/views/Client.vue?052d","webpack:///./src/views/Client.vue","webpack:///./src/views/Manual.vue?9c18","webpack:///./src/views/Manual.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","peerID","id","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","peerConnect","connectPeer","ref","staticStyle","staticRenderFns","oscillator","start","Object","assign","track","width","height","canvas","getContext","fillRect","data","created","initPeer","computed","methods","peer","connection","connect","console","log","peerCall","component","startSteam","peerConnectTo","peerId","conn","send","components","stream","webcam","_m","script"],"mappings":"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","file":"js/about.7c0bd9e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"Peer ID : \"+_vm._s(this.peerID.id))]),_c('br'),_vm._v(\"Connect To : \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerConnect),expression:\"peerConnect\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.peerConnect)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerConnect=$event.target.value}}}),_c('button',{on:{\"click\":_vm.connectPeer}},[_vm._v(\"connect\")]),_c('hr'),_c('p',[_vm._v(\"Room Server\")]),_c('video',{ref:\"video\",staticStyle:{\"max-height\":\"300px\",\"max-width\":\"400px\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p>Peer ID : {{ this.peerID.id }}</p>\n    <br />Connect To :\n    <input type=\"text\" v-model=\"peerConnect\" />\n    <button @click=\"connectPeer\">connect</button>\n    <hr />\n    <p>Room Server</p>\n    <video ref=\"video\" style=\"max-height: 300px; max-width: 400px;\"></video>\n  </div>\n</template>\n\n<script>\nimport Peer from \"peerjs\";\nexport const createEmptyAudioTrack = () => {\n  const ctx = new AudioContext();\n  const oscillator = ctx.createOscillator();\n  const dst = oscillator.connect(ctx.createMediaStreamDestination());\n  oscillator.start();\n  const track = dst.stream.getAudioTracks()[0];\n  return Object.assign(track, { enabled: false });\n};\n\nexport const createEmptyVideoTrack = ({ width, height }) => {\n  const canvas = Object.assign(document.createElement(\"canvas\"), {\n    width,\n    height,\n  });\n  canvas.getContext(\"2d\").fillRect(0, 0, width, height);\n\n  const stream = canvas.captureStream();\n  const track = stream.getVideoTracks()[0];\n\n  return Object.assign(track, { enabled: false });\n};\n\nexport default {\n  name: \"Room\",\n  data: () => ({\n    peerID: null,\n    myPeerId: \" \",\n    peerConnect: \" \",\n  }),\n  created() {\n    this.peerID = new Peer();\n    this.peerID.on(\"open\", (id) => {\n      \"My Peer Id : \" + this.peerID.id;\n    });\n    this.initPeer();\n  },\n  computed: {},\n  methods: {\n    initPeer() {\n      this.peer = new Peer(this.myPeerId);\n    },\n\n    connectPeer() {\n      this.connection = this.peerID.connect(this.peerConnect);\n      console.log(\"Hello\", this.connection);\n      this.connection.on(\"open\", () => {\n        this.connection.on(\"data\", (newMessage) =>\n          this.newMessage.send(newMessage)\n        );\n      });\n      this.peer.on(\"connection\", function (connection) {\n        connection.on(\"data\", function (data) {\n          console.log(\"client receive : \", data);\n        });\n      });\n\n      this.peer.on(\"call\", this.peerCall);\n     \n    },\n    async peerCall(call) {\n      let audioTrack = createEmptyAudioTrack();\n      let videoTrack = createEmptyVideoTrack({ width: 640, height: 480 });\n      let stream = new MediaStream([audioTrack, videoTrack]);\n\n      call.answer(stream);\n      call.on(\"stream\", (remoteStream) => {\n        let video = this.$refs[\"video\"];\n        video.srcObject = remoteStream;\n        video.play();\n        audio.play();\n      });\n      call.on(\"close\", () => {\n        video.remove();\n        audio.remove();\n      });\n      \n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=a339cdae&\"\nimport script from \"./Room.vue?vue&type=script&lang=js&\"\nexport * from \"./Room.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\"My Peer Id : \"+_vm._s(this.peerID.id))]),_c('br'),_vm._v(\"Connect To : \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerConnect),expression:\"peerConnect\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.peerConnect)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerConnect=$event.target.value}}}),_c('button',{on:{\"click\":_vm.connectPeer}},[_vm._v(\"connect\")]),_c('hr'),_c('button',{on:{\"click\":_vm.startSteam}},[_vm._v(\"start Steam\")]),_c('p',[_vm._v(\"Your Video\")]),_c('video',{ref:\"video\",staticStyle:{\"max-height\":\"300px\",\"max-width\":\"400px\"}}),_c('hr'),_c('button',{on:{\"click\":function($event){}}},[_vm._v(\"mute\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p>My Peer Id : {{ this.peerID.id }}</p>\n    <br />Connect To :\n    <input type=\"text\" v-model=\"peerConnect\" />\n    <button @click=\"connectPeer\">connect</button>\n\n    <hr />\n    <button @click=\"startSteam\">start Steam</button>\n    <p>Your Video</p>\n\n    <video ref=\"video\" style=\"max-height: 300px; max-width: 400px;\"></video>\n    <hr />\n    <button @click=\" \">mute</button>\n  </div>\n</template>\n\n<script>\nimport Peer from \"peerjs\";\n\nexport default {\n  name: \"RoomServer\",\n  data: () => ({\n    peerID: null,\n    myPeerId: \" \",\n    peerConnect: \" \",\n  }),\n  created() {\n    this.peerID = new Peer();\n    this.peerID.on(\"open\", (id) => {\n      \"My Peer Id : \" + this.peerID.id;\n    });\n    this.initPeer();\n  },\n  computed: {},\n  methods: {\n    initPeer() {\n      this.peer = new Peer(this.peerID);\n    },\n\n    connectPeer() {\n      this.connection = this.peerID.connect(this.peerConnect);\n      console.log(\"Hello\", this.connection);\n      this.connection.on(\"open\", () => {\n        this.connection.on(\"data\", (newMessage,data) =>\n          this.newMessage.send(newMessage, data)\n        );\n      });\n      this.peer.on(\"connection\", function (connection) {\n        connection.on(\"data\", function (data) {\n          console.log(\"server receive : \", data);\n        });\n      });\n    },\n    async startSteam() {\n      let stream = await navigator.mediaDevices.getDisplayMedia({\n        video: true,\n        audio: true,\n      });\n      let call = this.peerID.call(this.peerConnect, stream);\n      call.on(\"stream\", (remoteStream) => {\n        console.log(remoteStream);\n      });\n      call.on(\"close\", () => {\n        video.remove();\n        audio.remove();\n      });\n    },\n  },\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomServer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoomServer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoomServer.vue?vue&type=template&id=7c7a58e4&\"\nimport script from \"./RoomServer.vue?vue&type=script&lang=js&\"\nexport * from \"./RoomServer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Client\")]),_c('stream'),_c('hr'),_c('webcam')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Client\")]),_c('br'),_vm._v(\"Server id: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerConnectTo),expression:\"peerConnectTo\"}],attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.peerConnectTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerConnectTo=$event.target.value}}}),_c('br'),_vm._v(\"My id: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerId),expression:\"peerId\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.peerId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerId=$event.target.value}}}),_c('br'),_c('button',{on:{\"click\":_vm.connectPeer}},[_vm._v(\"connect\")]),_c('hr'),_c('p',[_vm._v(\"Server's Video\")]),_c('video',{ref:\"video\",staticStyle:{\"max-height\":\"300px\",\"max-width\":\"400px\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>Client</h1>\n    <br />Server id:\n    <input type=\"text\" v-model=\"peerConnectTo\" disabled />\n    <br />My id:\n    <input type=\"text\" v-model=\"peerId\" />\n    <br />\n    <button @click=\"connectPeer\">connect</button>\n\n    <hr />\n    \n    <p>Server's Video</p>\n    <video ref=\"video\" style=\"max-height: 300px; max-width: 400px;\"></video>\n    \n  </div>\n</template>\n\n<script>\nimport Peer from \"peerjs\";\nexport const createEmptyAudioTrack = () => {\n  const ctx = new AudioContext();\n  const oscillator = ctx.createOscillator();\n  const dst = oscillator.connect(ctx.createMediaStreamDestination());\n  oscillator.start();\n  const track = dst.stream.getAudioTracks()[0];\n  return Object.assign(track, { enabled: false });\n};\n\nexport const createEmptyVideoTrack = ({ width, height }) => {\n  const canvas = Object.assign(document.createElement(\"canvas\"), {\n    width,\n    height,\n  });\n  canvas.getContext(\"2d\").fillRect(0, 0, width, height);\n\n  const stream = canvas.captureStream();\n  const track = stream.getVideoTracks()[0];\n\n  return Object.assign(track, { enabled: false });\n};\n\nexport default {\n  name: \"Client\",\n  data: () => ({\n    peer: null,\n    \n    peerId: \"Stream_2\",\n    peerConnectTo: \"Stream_1\",\n    \n  }),\n  created() {\n    //this.initPeer();\n  },\n  methods: {\n    initPeer() {\n      this.peer = new Peer(this.peerId);\n    },\n    \n    \n    connectPeer() {\n      this.initPeer();\n      let conn = this.peer.connect(this.peerConnectTo);\n      console.log('conn',conn)\n\n      // on open will be launch when you successfully connect to PeerServer\n      conn.on(\"open\", function () {\n        // here you have conn.id\n        conn.send(\"hi! i'm client\");\n      });\n\n      this.peer.on(\"connection\", function (conn) {\n        conn.on(\"data\", function (data) {\n          console.log(\"client receive : \", data);\n        });\n      });\n\n      this.peer.on(\"call\",  (call) =>  {\n            this.peerCall(call)\n      })\n    },\n    \n\n    async peerCall(call) {\n      \n      let audioTrack = createEmptyAudioTrack();\n      let videoTrack = createEmptyVideoTrack({ width: 640, height: 480 });\n      let stream = new MediaStream([audioTrack, videoTrack]);\n      // let stream = await navigator.mediaDevices.getDisplayMedia({\n      //   video: false,\n      // });\n      call.answer(stream);\n      call.on(\"stream\", (remoteStream) => {\n        console.log(remoteStream,\"vioe\");\n        let video = this.$refs[\"video\"];\n        video.srcObject = remoteStream;\n        video.play();\n        \n      });\n      \n    },\n    \n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stream.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./stream.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./stream.vue?vue&type=template&id=96fee3f6&\"\nimport script from \"./stream.vue?vue&type=script&lang=js&\"\nexport * from \"./stream.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Audio\")]),_c('br'),_vm._v(\"Server id: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerConnectTo),expression:\"peerConnectTo\"}],attrs:{\"type\":\"text\",\"disabled\":\"\"},domProps:{\"value\":(_vm.peerConnectTo)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerConnectTo=$event.target.value}}}),_c('br'),_vm._v(\"My id: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.peerId),expression:\"peerId\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.peerId)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.peerId=$event.target.value}}}),_c('br'),_c('button',{on:{\"click\":_vm.connectPeer}},[_vm._v(\"connect\")]),_c('hr'),_c('p',[_vm._v(\"Server's Video\")]),_c('video',{ref:\"video\",staticStyle:{\"max-height\":\"300px\",\"max-width\":\"400px\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h1>Audio</h1>\n    <br />Server id:\n    <input type=\"text\" v-model=\"peerConnectTo\" disabled />\n    <br />My id:\n    <input type=\"text\" v-model=\"peerId\" />\n    <br />\n    <button @click=\"connectPeer\">connect</button>\n\n    <hr />\n    \n    <p>Server's Video</p>\n    <video ref=\"video\" style=\"max-height: 300px; max-width: 400px;\"></video>\n    \n  </div>\n</template>\n\n<script>\nimport Peer from \"peerjs\";\n\nexport default {\n  name: \"Client\",\n  data: () => ({\n    peer: null,\n    \n    peerId: \"audio_2\",\n    peerConnectTo: \"audio_1\",\n    \n  }),\n  created() {\n    this.initPeer();\n  },\n  methods: {\n    initPeer() {\n      this.peer = new Peer(this.peerId);\n    },\n    \n    \n    connectPeer() {\n      //this.initPeer();\n      let conn = this.peer.connect(this.peerConnectTo);\n      // on open will be launch when you successfully connect to PeerServer\n      conn.on(\"open\", function () {\n        // here you have conn.id\n        conn.send(\"hi! i'm client\");\n      });\n\n      this.peer.on(\"connection\", function (conn) {\n        conn.on(\"data\", function (data) {\n          console.log(\"client receive : \", data);\n        });\n      });\n\n      this.peer.on(\"call\", this.peerCall);\n    },\n\n    async peerCall(call) {\n        // await this.checkForVideoAudioAccess()\n      let stream = await navigator.mediaDevices.getUserMedia({\n        video: true,\n        audio: true,\n      });\n      call.answer(stream);\n      call.on(\"stream\", (remoteStream) => {\n        let video = this.$refs[\"video\"];\n        video.srcObject = remoteStream;\n        video.play();\n        \n      });\n      \n    },\n    \n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Audio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Audio.vue?vue&type=template&id=7329f060&\"\nimport script from \"./Audio.vue?vue&type=script&lang=js&\"\nexport * from \"./Audio.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1>Client</h1>\n    <stream></stream>\n    <hr />\n    <webcam></webcam>\n  </div>\n</template>\n\n<script>\nimport Peer from \"peerjs\";\nimport stream from \"../components/client/stream\";\nimport webcam from \"../components/client/Audio\"\n\n\nexport default {\n  name: \"Client\",\n  components:{\n    stream,\n    webcam\n  },\n  data: () => ({\n    \n  }),\n  created() {\n    //this.initPeer();\n  },\n  methods: {\n    \n    },\n  \n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Client.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Client.vue?vue&type=template&id=532f1c76&\"\nimport script from \"./Client.vue?vue&type=script&lang=js&\"\nexport * from \"./Client.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"วิธีใช้\")]),_c('ul',[_c('li',[_vm._v(\"กด connect ที่ Client\")]),_c('li',[_vm._v(\"กด connect ที่ Server\")]),_c('li',[_vm._v(\"กด start Stream ที่ Server\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Manual.vue?vue&type=template&id=27656fbb&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}